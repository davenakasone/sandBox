module memory_unit (
						output wire [7:0] bus,       // always reads data from address here
                        input wire [7:0] data_in,    // read to memory if WE 
						input wire [3:0] address,    // 4 address bits = 16 locations (depth)
						input wire WE,               // won't read unless enabled
						input wire clock
					);

	reg [7:0] ram_memory [15:0];    // 16 x 8 RAM
    integer idx;
    parameter ram_init = 8'b1111_1111;

	initial begin
		//$readmemb("data.txt", ram_memory);
        //
        for (idx = 0; idx < 16; idx = idx + 1) begin
            ram_memory[idx] = ram_init;
        end
        //
	end

	assign bus = ram_memory[address];

	always @ (posedge clock) begin
		if(WE == 1'b1) begin
			ram_memory[address] <= data_in; 
		end
	end
endmodule